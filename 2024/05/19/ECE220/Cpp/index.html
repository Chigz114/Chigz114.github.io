<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Cpp | 沉思录</title><meta name="keywords" content="ECE220"><meta name="author" content="Chi Guanzhang"><meta name="copyright" content="Chi Guanzhang"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="Cpp"><meta name="application-name" content="Cpp"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="Cpp"><meta property="og:url" content="https://chigz114.github.io/2024/05/19/ECE220/Cpp/index.html"><meta property="og:site_name" content="沉思录"><meta property="og:description" content="Introduction to CppReferences引用（Reference）是 C++ 相对于C语言的又一个扩充。引用可以看做是数据的一个别名，通过这个别名和原来的名字都能够找到这份数据。 引用的定义方式类似于指针，只是用&amp;amp;代替了*，语法格式为： 1type &amp;amp;name &amp;#x3D;"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://patchwiki.biligame.com/images/blhx/c/cf/6tj18cxvk0h6rh0s3l2nczv8zggspm1.png"><meta property="article:author" content="Chi Guanzhang"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://patchwiki.biligame.com/images/blhx/c/cf/6tj18cxvk0h6rh0s3l2nczv8zggspm1.png"><meta name="description" content="Introduction to CppReferences引用（Reference）是 C++ 相对于C语言的又一个扩充。引用可以看做是数据的一个别名，通过这个别名和原来的名字都能够找到这份数据。 引用的定义方式类似于指针，只是用&amp;amp;代替了*，语法格式为： 1type &amp;amp;name &amp;#x3D;"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://chigz114.github.io/2024/05/19/ECE220/Cpp/"><link rel="preconnect" href="//cdn.cbd.int"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  linkPageTop: undefined,
  peoplecanvas: {"enable":true,"img":"https://upload-bbs.miyoushe.com/upload/2023/09/03/125766904/ee23df8517f3c3e3efc4145658269c06_5714860933110284659.png"},
  postHeadAiDescription: {"enable":true,"gptName":"AnZhiYu","mode":"local","switchBtn":false,"btnLink":"https://afdian.net/item/886a79d4db6711eda42a52540025c377","randomNum":3,"basicWordCount":1000,"key":"xxxx","Referer":"https://xx.xx/"},
  diytitle: {"enable":true,"leaveTitle":"唔西迪西~","backTitle":"玛卡巴卡~"},
  LA51: undefined,
  greetingBox: undefined,
  twikooEnvId: '',
  commentBarrageConfig:undefined,
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: false,
  mainTone: undefined,
  authorStatus: {"skills":["饿饿，饭饭Ψ(￣∀￣)Ψ"]},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":330},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"copy":true,"copyrightEbable":false,"limitCount":50,"languages":{"author":"作者: Chi Guanzhang","link":"链接: ","source":"来源: 沉思录","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。","copySuccess":"复制成功，复制和转载请标注本文地址"}},
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#425AEF","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: undefined,
  autoDarkmode: true
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  configTitle: '沉思录',
  title: 'Cpp',
  postAI: '',
  pageFillDescription: 'Introduction to Cpp, References, Class, Public Simple Inheritance amp public and private access modifiers, this Pointer, Destructor and Default x2F Copy x2F Explicit Constructor, Default Constructor, Copy Constructor, 显式构造函数（explicit）, 析构函数（Deconstructor）, namespace std, namespace, operator, cout, string Class, new amp delete, Abstraction Inheritance Polymorphism Encapsulation, abstraction, Inheritance, Polymorphism引用是相对于语言的又一个扩充引用可以看做是数据的一个别名通过这个别名和原来的名字都能够找到这份数据引用的定义方式类似于指针只是用代替了语法格式为是被引用的数据的类型是引用的名称是被引用的数据引用必须在定义的同时初始化并且以后也要从一而终不能再引用其它数据这有点类似于常量变量表示引用表示取地址运行结果本例中变量就是变量的引用它们用来指代同一份数据也可以说变量是变量的另一个名字从输出结果可以看出和的地址一样都是或者说地址为的内存有两个名字和想要访问该内存上的数据时使用哪个名字都行只有在创建的时候需要用到如果在使用时添加则表示取地址同时通过也可以修改原变量中储存的数据如果不希望通过引用变量修改原数据可以在定义时添加限制形如二者等价一段展现按引用传参优势的代码直接传递参数内容该写法是错的下面两种等价传递指针按引用传参引用还可以作为函数的返回值在将引用作为函数返回值时应该注意一个小问题就是不能返回局部数据例如局部变量局部对象局部数组等的引用因为当函数调用完成后局部数据就会被销毁有可能在下次使用时数据就不存在了编译器检测到该行为时也会给出警告如返回局部数据的引用预期结果在使用完后被销毁该做法得不到预期的答案比较引用很容易与指针混淆它们之间有三个主要的不同不存在空引用引用必须连接到一块合法的内存一旦引用被初始化为一个对象就不能被指向到另一个对象指针可以在任何时候指向到另一个对象引用必须在创建时被初始化指针可以在任何时间被初始化鉴于又说要学参数引用故贴个例子在这儿和的指针区别不大如果一个函数收到了一个参数的引用它就可以修改这个参数的值输出同时还说要学常引用作为函数变量啧引用本身就是一个常指针意味着它指向的位置是固定的如果在前面再加上就意味着它指向的空间所存的值也不可以被该引用修改形如不过有意思的是因为引用和原变量指向的是同一地址空间所以虽然常引用无法改变那片地址储存的值原变量依然可以修改这个值此时和的值都会发生改变但这行就会报错因为引用是更多资料和题目参考是中新增的关键字专门用来定义类类名称表示类的成员变量或成员函数有公开的访问权限成员变量成员函数的年龄是成绩是类只是一个模板编译后不占用内存空间所以在定义类时不能对成员变量进行初始化因为没有地方存储数据只有在创建对象后才会给成员变量分配内存此时才能赋值在创建对象时关键字可写可不写两者等价正确创建数组每个元素都是的对象与类似的可以用来访问成员变量不同的是还可以访问成员函数类通常定义在函数外面创建类不占用内存类包含的变量类包含的函数的年龄是成绩是创建对象创建对象其类为小明如果要获取的指针则需要用取地址符得到它的地址是一个指针指向类型的数据也就是通过创建出来的对象当然也可以在堆上创建对象这时候需要用到关键字栈创建的对象都有一个名字如作为索引所以不必用指针指向它但通过创建的在堆上分配内存的对象没有名字只能得到一个指针所以必须通过一个指针变量接收这个指针栈由程序自动管理无法使用堆由程序员管理使用完毕后可通过删除有了对象指针之后就可以通过箭头来访问对象的成员了一个完整的例子的年龄是成绩是小明删除对象继承可以理解为一个类从另一个类获取成员变量和成员函数的过程例如类继承于类那么就拥有的成员变量和成员函数中派生和继承是同一概念只是解释的角度不同分从子类和父类解释被继承的类称为父类或基类继承的类称为子类或派生类继承的使用场景当你创建的新类与现有的类相似只是多出若干成员变量或成员函数时可以使用继承这样不但会减少代码量而且新类会拥有基类的所有功能当你需要创建多个类它们拥有很多相似的成员变量或成员函数时也可以使用继承可以将这些类的共同成员提取出来定义为基类然后从基类继承既可以节省代码也方便后续修改成员下面给出一个实例定义基类派生出类基类派生类继承中的成员同时在中新增两个成员小明的年龄是成绩是输出小明的年龄是成绩是不同的继承方式会影响基类成员在派生类中的访问权限若未指定继承方式默认为继承方式基类中所有成员在派生类中为属性基类中所有成员在派生类中为属性基类中所有成员在派生类中不能使用继承方式基类中的所有成员在派生类中为属性基类中的所有成员在派生类中为属性基类中的所有成员在派生类中不能使用继承方式基类中的所有成员在派生类中均为属性基类中的所有成员在派生类中均为属性基类中的所有成员在派生类中不能使用声明为的数据成员和成员函数也可以被其他类和函数访问类的公共成员可以在程序的任何地方使用直接成员访问操作符对该类的对象进行访问声明为的类成员只能由类内部的成员函数访问它们不允许被类之外的任何对象或函数直接访问只有成员函数或友元函数才允许访问类的私有数据成员函数使用方法对比此处在函数内调用而是值会报错输出类的内部成员函数可以调用输出对比可见只有类的内部函数才能调用值用关键字可以改变基类成员在派生类中的访问权限但只能改变基类中和成员的访问权限不能改变成员的访问权限因为基类中成员在派生类中是不可见的根本不能使用所以基类中的成员在派生类中无论如何都不能访问实例基类的年龄是派生类将改为将改为将改为我是今年岁这次考了分小明是属性的会报错是中的一个关键字也是一个指针指向当前对象通过它可以访问当前对象的所有成员因为是一个指针所以在访问对象的成员时需要用来访问的年龄是成绩是李华用于类的内部通过可以访问类的所有成员包括属性的是指针值不可被修改只有对象创建后才有意义中有一种特殊的成员函数它的名字和类名相同没有返回值不需要用户显式调用用户也不能调用而是在创建对象时自动执行这种特殊的成员函数就是构造函数它可以在创建对象的同时为成员变量赋初值注意构造函数与类同名在内定义的语法在外定义的语法在内定义的实例定义输出在外定义的实例在定义类时仅声明但未给出定义在类外定义输出默认构造函数没有变量它不需要输入执行一些固定工作或不执行如果我们不定义构造函数程序会自动定义一个函数下面是一个实例输出另一个实例如果不定义构造函数无输出复制构造函数是使用同一类下的另一个对象初始化当前对象的成员函数它可以引用同类的对象作为参数语法如果没有定义显式复制构造函数会提供默认的隐式复制构造函数此处没有给出的定义即为隐式通过给的赋初值通过隐式复制构造函数给赋值值来自输出显式复制构造函数实例默认构造函数复制构造函数定义定义为复制值从中复制值到输出带有参数化构造函数的显式复制构造函数实例复制构造函数定义复制参数复制参数复制参数类外定义参数化构造函数定义对象输入参数化构造函数的值定义对象并通过复制构造函数从对象中复制值输出显式构造函数学习显式构造函数应当先理解隐式构造函数如果类的其中一个构造函数有一个参数那么在编译的时候就会有一个缺省的转换操作将该构造函数对应数据类型的数据转换为该类对象这句话可能有点难懂举个例子用字符串作为初始化值这就是一种隐式转换这样的转换本身是不合语法的但通过隐式转换将数据转换为对象数据使之合法等价于但有的时候可能不需要这种隐式转换本意是预先分配个字节给字符串为字符串初始化两种正常写法分配个字节分配个字节两种不正常写法编译通过分配个字节的空字符串编译通过分配个字节的空字符串为避免这种隐式转换在构造函数前加上本意是预先分配个字节给字符串为字符串初始化两种正常写法仍然正确分配个字节分配个字节两种不正常写法会报错编译不通过编译不通过所以有些时候可以有效防止构造函数的隐式转换带来的错误或者误解析构函数创建对象时系统会自动调用构造函数进行初始化工作同样销毁对象时系统也会自动调用一个函数来进行清理工作例如释放分配的内存关闭打开的文件等这个函数就是析构函数析构函数也是一种特殊的成员函数没有返回值不需要程序员显式调用程序员也没法显式调用而是在销毁对象时自动执行构造函数的名字和类名相同而析构函数的名字是在类名前面加一个符号注意析构函数没有参数不能被重载因此一个类只能有一个析构函数如果用户没有定义编译器会自动生成一个默认的析构函数下面实例中通过析构函数释放已经分配的内存其中大部分代码不需要理解仅看关于部分理解语法即可构造函数析构函数从控制台输入数组元素显示数组元素获取第个元素的指针数组长度数组指针指向数组第个元素的指针使用初始化列表来给赋值分配内存定义析构函数释放内存创建一个有个元素的数组对象输入数组元素输出数组元素删除数组对象就是类的析构函数它的唯一作用就是在删除对象第行代码后释放已经分配的内存中的和分别用来分配和释放内存它们与语言中最大的一个不同之处在于用分配内存时会调用构造函数用释放内存时会调用析构函数引入了命名空间的概念计划重新编写库将类函数宏等都统一纳入一个命名空间这个命名空间的名字就是是的缩写意思是标准命名空间一个中大型软件往往由多名程序员共同开发会使用大量的变量和函数不可避免地会出现变量或函数的命名冲突当所有人的代码都测试通过没有问题时将它们结合到一起就有可能会出现命名冲突例如小李和小韩都参与了一个文件管理系统的开发它们都定义了一个全局变量用来指明当前打开的文件将他们的代码整合在一起编译时很明显编译器会提示重复定义错误为了解决合作开发时的命名冲突问题引入了命名空间的概念请看下面的例子小李的变量定义小韩的变量定义小李与小韩各自定义了以自己姓氏为名的命名空间此时再将他们的变量放在一起编译就不会有任何问题使用变量函数时要指明它们所在的命名空间以上面的变量为例可以这样来使用使用小李定义的变量使用小韩定义的变量是一个新符号称为域解析操作符在中用来指明要使用的命名空间除了直接使用域解析操作符还可以采用关键字声明在代码的开头用声明了它的意思是声明以后的程序中如果出现了未指明命名空间的就使用但是若要使用小韩定义的仍然需要使用小李定义的变量使用小韩定义的变量声明不仅可以针对命名空间中的一个变量也可以用于声明整个命名空间如果命名空间中还定义了其他的变量那么同样具有变量的效果在声明后如果有未具体指定命名空间的变量产生了命名冲突那么默认采用命名空间中的变量使用小李定义的变量使用小韩定义的变量具体内容不必了解可以大致理解为一个标准库将可能用到的一些函数等等纳入只需要留意它声明了命名空间后续如果有未指定命名空间的符号那么默认使用代码中的都位于命名空间必须重新声明声明命名空间语言中文网如果希望在所有函数中都使用命名空间可以将它声明在全局范围中例如声明命名空间语言中文网当然也可以对一个特定函数使用但这样写太麻烦了鉴于老登又说要学故单独开一小节作用域运算符简单来说作用就是从一个集合一般是中取其成员细分下来有以下几种当存在有相同名称的局部变量时要访问全局变量不太可能考在类以外定义函数有一定概率考访问一个类的静态变量有可能考命名空间如果两个命名空间有相同名称的类则可以通过该运算符一起使用而不会发生冲突在一个类中引用另一个类如果另一个类中存在一个类我们可以使用嵌套类使用作用域运算符来引用嵌套的类预定义的对象是类的一个实例对象连接到标准输出设备通常是显示屏是与流插入运算符结合使用的如下所示输出编译器根据要输出变量的数据类型选择合适的流插入运算符来显示值运算符被重载来输出内置类型整型浮点型型字符串和指针的数据项流插入运算符在一个语句中可以多次使用如上面实例中所示用于在行末添加一个换行符中的类是一个泛型类由模板而实例化的一个标准类本质上不是一个标准数据类型鉴于已经介绍了仅通过该实例演示的基础用法复制到连接和连接后的总长度输出语言中用等函数动态分配内存中保留了这些函数同时新增了两个关键字和用于动态分配内存用于释放内存分配个型内存空间释放内存操作符会根据后面的数据类型来推断所需空间的大小如果希望分配一组连续的数据可以使用同时由分配的内存需要由释放和应当成对出现用完即释放数据抽象是中面向对象编程最基本最重要的特性之一抽象意味着只显示基本信息隐藏细节数据抽象指的是只向外界提供有关数据的基本信息隐藏后台细节或实现举个例子一个人只知道踩油门会增加汽车的速度或者踩刹车会使汽车停下来但他不知道踩油门时速度实际上是如何增加的他不知道汽车的内部机构也不知道油门刹车等在汽车中的实施这就是抽象抽象的种类数据抽象这种类型只显示有关数据的必要信息而隐藏不必要的数据控制抽象这种类型只显示有关实现的必要信息而隐藏不必要的信息抽象的实现通过实现对部分内容的访问而拒绝对另一部分的访问通过头文件封装函数数据抽象的优点帮助用户避免编写低级代码避免代码重复提高可重用性可以在不影响用户的情况下独立更改类的内部实现帮助提高应用程序或程序的安全性因为只向用户提供重要的细节它降低了代码的复杂性和冗余性从而提高了可读性该部分主要是三种继承方式在这一节已经涉及了必要知识不多赘述放两个程序作为练习输出输出更多内容请访问多态性这个词的意思是具有多种形式简而言之我们可以将多态性定义为消息以多种形式显示的能力多态性的一个现实例子是一个人同时可以有不同的特征一个男人同时是父亲丈夫和雇员所以同一个人在不同的情况下表现出不同的行为这就是所谓的多态性多态被认为是面向对象编程的重要特征之一',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-05-29 13:42:51',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(e => {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="generator" content="Hexo 7.2.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://npm.elemecdn.com/anzhiyu-blog-static@1.0.4/img/avatar.jpg"/><div class="loading-image-dot"></div></div></div><script>const preloader = {
  endLoading: () => {
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.10/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">沉思录</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a><div id="he-plugin-simple"></div><script>var WIDGET = {
  "CONFIG": {
    "modules": "0124",
    "background": "2",
    "tmpColor": "FFFFFF",
    "tmpSize": "16",
    "cityColor": "FFFFFF",
    "citySize": "16",
    "aqiColor": "E8D87B",
    "aqiSize": "16",
    "weatherIconSize": "24",
    "alertIconSize": "18",
    "padding": "10px 10px 10px 10px",
    "shadow": "0",
    "language": "auto",
    "borderRadius": "20",
    "fixed": "true",
    "vertical": "top",
    "horizontal": "left",
    "left": "20",
    "top": "7.1",
    "key": "df245676fb434a0691ead1c63341cd94"
  }
}
</script><link rel="stylesheet" href="https://widget.qweather.net/simple/static/css/he-simple.css?v=1.4.0"/><script src="https://widget.qweather.net/simple/static/js/he-simple.js?v=1.4.0"></script></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png" target="_blank"><img class="post-qr-code-img" alt="微信" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-weichat.png"/></a><div class="post-qr-code-desc">微信</div></li><li class="reward-item"><a href="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png" target="_blank"><img class="post-qr-code-img" alt="支付宝" src="https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/qrcode-alipay.png"/></a><div class="post-qr-code-desc">支付宝</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> 最新评论</span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/ECE220/" style="font-size: 1.05rem;">ECE220<sup>7</sup></a><a href="/tags/ECE408/" style="font-size: 1.05rem;">ECE408<sup>11</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">11</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">五月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">7</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);" title="切换"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="article-meta tags"><a class="article-meta__tags" href="/tags/ECE220/" tabindex="-1" itemprop="url"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>ECE220</span></a></span></div></div><h1 class="post-title" itemprop="name headline">Cpp</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="anzhiyufont anzhiyu-icon-calendar-days post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" itemprop="dateCreated datePublished" datetime="2024-05-19T14:54:37.000Z" title="发表于 2024-05-19 22:54:37">2024-05-19</time><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-history post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" itemprop="dateCreated datePublished" datetime="2024-05-29T05:42:51.178Z" title="更新于 2024-05-29 13:42:51">2024-05-29</time></span></div><div class="meta-secondline"><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为北极村"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>北极村</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://patchwiki.biligame.com/images/blhx/c/cf/6tj18cxvk0h6rh0s3l2nczv8zggspm1.png"></div></header><main id="blog-container"><div class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container" itemscope itemtype="https://chigz114.github.io/2024/05/19/ECE220/Cpp/"><header><a href="/tags/ECE220/" tabindex="-1" itemprop="url">ECE220</a><h1 id="CrawlerTitle" itemprop="name headline">Cpp</h1><span itemprop="author" itemscope itemtype="http://schema.org/Person">Chi Guanzhang</span><time itemprop="dateCreated datePublished" datetime="2024-05-19T14:54:37.000Z" title="发表于 2024-05-19 22:54:37">2024-05-19</time><time itemprop="dateCreated datePublished" datetime="2024-05-29T05:42:51.178Z" title="更新于 2024-05-29 13:42:51">2024-05-29</time></header><h1 id="Introduction-to-Cpp"><a href="#Introduction-to-Cpp" class="headerlink" title="Introduction to Cpp"></a><strong>Introduction to Cpp</strong></h1><h2 id="References"><a href="#References" class="headerlink" title="References"></a><strong>References</strong></h2><p>引用（Reference）是 C++ 相对于C语言的又一个扩充。引用可以看做是数据的一个别名，通过这个别名和原来的名字都能够找到这份数据。</p>
<p>引用的定义方式类似于指针，只是用<code>&amp;</code>代替了<code>*</code>，语法格式为：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">type &amp;name = data;</span><br></pre></td></tr></table></figure>

<p>type 是被引用的数据的类型，name 是引用的名称，data 是被引用的数据。引用必须在定义的同时初始化，并且以后也要从一而终，不能再引用其它数据，这有点类似于常量（const 变量）。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> a = <span class="number">99</span>;</span><br><span class="line">    <span class="type">int</span> &amp;r = a;								<span class="comment">//&amp;表示引用</span></span><br><span class="line">    cout &lt;&lt; a &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; r &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; &amp;a &lt;&lt; <span class="string">&quot;, &quot;</span> &lt;&lt; &amp;r &lt;&lt; endl;		<span class="comment">//&amp;表示取地址</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//运行结果：</span></span><br><span class="line"><span class="comment">//99，99</span></span><br><span class="line"><span class="comment">//0x28ff44, 0x28ff44</span></span><br></pre></td></tr></table></figure>

<p>本例中，变量 r 就是变量 a 的引用，它们用来指代同一份数据；也可以说变量 r 是变量 a 的另一个名字。从输出结果可以看出，a 和 r 的地址一样，都是<code>0x28ff44</code>；或者说地址为<code>0x28ff44</code>的内存有两个名字，a 和 r，想要访问该内存上的数据时，使用哪个名字都行。</p>
<p>只有在创建reference的时候需要用到<code>&amp;</code>，如果在使用时添加，则表示取地址。</p>
<p>同时，通过r也可以修改原变量a中储存的数据。</p>
<p>如果不希望通过引用变量修改原数据，可以在定义时添加const限制，形如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> type &amp;name = value;</span><br><span class="line">type <span class="type">const</span> &amp;name = value;	<span class="comment">//二者等价</span></span><br></pre></td></tr></table></figure>

<p>一段展现按引用传参优势的代码：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap1</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap2</span><span class="params">(<span class="type">int</span> *p1, <span class="type">int</span> *p2)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap3</span><span class="params">(<span class="type">int</span> &amp;r1, <span class="type">int</span> &amp;r2)</span></span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> num1, num2;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Input two integers: &quot;</span>;</span><br><span class="line">    cin &gt;&gt; num1 &gt;&gt; num2;</span><br><span class="line">    <span class="built_in">swap1</span>(num1, num2);</span><br><span class="line">    cout &lt;&lt; num1 &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; num2 &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Input two integers: &quot;</span>;</span><br><span class="line">    cin &gt;&gt; num1 &gt;&gt; num2;</span><br><span class="line">    <span class="built_in">swap2</span>(&amp;num1, &amp;num2);</span><br><span class="line">    cout &lt;&lt; num1 &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; num2 &lt;&lt; endl;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;Input two integers: &quot;</span>;</span><br><span class="line">    cin &gt;&gt; num1 &gt;&gt; num2;</span><br><span class="line">    <span class="built_in">swap3</span>(num1, num2);</span><br><span class="line">    cout &lt;&lt; num1 &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; num2 &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//直接传递参数内容</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap1</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;		<span class="comment">//该写法是错的，下面两种等价</span></span><br><span class="line">    <span class="type">int</span> temp = a;</span><br><span class="line">    a = b;</span><br><span class="line">    b = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//传递指针</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap2</span><span class="params">(<span class="type">int</span> *p1, <span class="type">int</span> *p2)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> temp = *p1;</span><br><span class="line">    *p1 = *p2;</span><br><span class="line">    *p2 = temp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//按引用传参</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap3</span><span class="params">(<span class="type">int</span> &amp;r1, <span class="type">int</span> &amp;r2)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> temp = r1;</span><br><span class="line">    r1 = r2;</span><br><span class="line">    r2 = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>引用还可以作为函数的返回值<code>return r；</code></p>
<p>在将引用作为函数返回值时应该注意一个小问题，就是不能返回局部数据（例如局部变量、局部对象、局部数组等）的引用，因为当函数调用完成后局部数据就会被销毁，有可能在下次使用时数据就不存在了，C++ 编译器检测到该行为时也会给出警告。如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">int</span> &amp;<span class="title">plus10</span><span class="params">(<span class="type">int</span> &amp;r)</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> m = r + <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">return</span> m;  <span class="comment">//返回局部数据的引用</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="type">int</span> num1 = <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> num2 = <span class="built_in">plus10</span>(num1);</span><br><span class="line">    cout &lt;&lt; num2 &lt;&lt; endl;</span><br><span class="line">    <span class="type">int</span> &amp;num3 = <span class="built_in">plus10</span>(num1);</span><br><span class="line">    <span class="type">int</span> &amp;num4 = <span class="built_in">plus10</span>(num3);</span><br><span class="line">    cout &lt;&lt; num3 &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; num4 &lt;&lt; endl;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//预期结果：</span></span><br><span class="line"><span class="comment">//20</span></span><br><span class="line"><span class="comment">//20 30</span></span><br></pre></td></tr></table></figure>

<p>m在使用完后被销毁，该做法得不到预期的答案。</p>
<p>reference &amp; pointer 比较</p>
<p>引用很容易与指针混淆，它们之间有三个主要的不同：</p>
<ul>
<li>不存在空引用。引用必须连接到一块合法的内存。</li>
<li>一旦引用被初始化为一个对象，就不能被指向到另一个对象。指针可以在任何时候指向到另一个对象。</li>
<li>引用必须在创建时被初始化。指针可以在任何时间被初始化。</li>
</ul>
<p>鉴于Pavel又说要学参数引用，故贴个例子在这儿，和C的指针区别不大：</p>
<p>如果一个函数收到了一个参数（variable）的引用，它就可以修改这个参数的值。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ Program to demonstrate</span></span><br><span class="line"><span class="comment">// Passing of references as parameters</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Function having parameters as</span></span><br><span class="line"><span class="comment">// references</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">swap</span><span class="params">(<span class="type">int</span>&amp; first, <span class="type">int</span>&amp; second)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="type">int</span> temp = first;</span><br><span class="line">    first = second;</span><br><span class="line">    second = temp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Driver function</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// Variables declared</span></span><br><span class="line">    <span class="type">int</span> a = <span class="number">2</span>, b = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// function called</span></span><br><span class="line">    <span class="built_in">swap</span>(a, b);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// changes can be seen</span></span><br><span class="line">    <span class="comment">// printing both variables</span></span><br><span class="line">    cout &lt;&lt; a &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; b;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="comment">//3 2</span></span><br></pre></td></tr></table></figure>

<p> 同时，Pavel还说要学：常引用作为函数变量（constant references as function arguments），啧</p>
<p>引用本身就是一个常指针，意味着它指向的位置是固定的。如果在前面再加上const，就意味着它指向的空间所存的值也不可以被该引用修改。形如<code>const &amp;a</code></p>
<p>不过有意思的是，因为引用和原变量指向的是同一地址空间，所以，虽然常引用无法改变那片地址储存的值，原变量依然可以修改这个值：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">15</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> &amp;a = b;</span><br><span class="line">    b = <span class="number">11</span>;	<span class="comment">//此时a和b的值都会发生改变</span></span><br><span class="line">    a = <span class="number">11</span>;	<span class="comment">//但这行就会报错，因为引用a是constant   </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>更多资料和题目，参考<a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/references-in-cpp/">References in C++ - GeeksforGeeks</a></p>
<h2 id="Class"><a href="#Class" class="headerlink" title="Class"></a><strong>Class</strong></h2><p>​		class是C++中新增的关键字，专门用来定义类。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>&#123;		<span class="comment">//类名称：student</span></span><br><span class="line"><span class="keyword">public</span>:				<span class="comment">//表示类的成员变量或成员函数有“公开”的访问权限</span></span><br><span class="line">    <span class="comment">//成员变量</span></span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">float</span> score;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//成员函数</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">say</span><span class="params">()</span></span>&#123;</span><br><span class="line">        cout&lt;&lt;name&lt;&lt;<span class="string">&quot;的年龄是&quot;</span>&lt;&lt;age&lt;&lt;<span class="string">&quot;，成绩是&quot;</span>&lt;&lt;score&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>类只是一个模板，编译后不占用内存空间，所以在定义类时不能对成员变量进行初始化，因为没有地方存储数据。只有在创建对象后才会给成员变量分配内存，此时才能赋值。</p>
<p>在创建class对象时，关键字class可写可不写</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> Chi;</span><br><span class="line">Student Chi;		<span class="comment">//两者等价，正确</span></span><br><span class="line">Student allStu[<span class="number">100</span>];<span class="comment">//创建allStu数组，每个元素都是class Student的对象</span></span><br></pre></td></tr></table></figure>

<p>与C类似的，可以用”.”来访问成员变量，不同的是，class还可以访问成员函数。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//类通常定义在函数外面</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>&#123;		<span class="comment">//创建类，不占用内存</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="comment">//类包含的变量</span></span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">float</span> score;</span><br><span class="line">    <span class="comment">//类包含的函数</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">say</span><span class="params">()</span></span>&#123;</span><br><span class="line">        cout&lt;&lt;name&lt;&lt;<span class="string">&quot;的年龄是&quot;</span>&lt;&lt;age&lt;&lt;<span class="string">&quot;，成绩是&quot;</span>&lt;&lt;score&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//创建对象</span></span><br><span class="line">    Student stu;	<span class="comment">//创建对象stu，其类为Student</span></span><br><span class="line">    stu.name = <span class="string">&quot;小明&quot;</span>;</span><br><span class="line">    stu.age = <span class="number">15</span>;</span><br><span class="line">    stu.score = <span class="number">92.5f</span>;</span><br><span class="line">    stu.<span class="built_in">say</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果要获取stu的指针，则需要用取地址符“&amp;”得到它的地址：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Student stu;</span><br><span class="line">Student *pStu = &amp;stu;</span><br></pre></td></tr></table></figure>

<p>pStu是一个指针，指向Student类型的数据，也就是通过Student创建出来的对象stu。</p>
<p>当然，也可以在堆上创建对象，这时候需要用到new关键字：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Student *pStu = <span class="keyword">new</span> Student;</span><br></pre></td></tr></table></figure>

<p>栈创建的对象都有一个名字，如stu，作为索引。所以不必用指针指向它。但通过new创建的，在堆上分配内存的对象，没有名字，只能得到一个指针，所以必须通过一个指针变量接收这个指针。</p>
<p>栈由程序自动管理，无法使用delete；堆由程序员管理，使用完毕后可通过delete删除。</p>
<p>有了对象指针之后，就可以通过箭头”-&gt;”来访问对象的成员了。一个完整的例子：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">float</span> score;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">say</span><span class="params">()</span></span>&#123;</span><br><span class="line">        cout&lt;&lt;name&lt;&lt;<span class="string">&quot;的年龄是&quot;</span>&lt;&lt;age&lt;&lt;<span class="string">&quot;，成绩是&quot;</span>&lt;&lt;score&lt;&lt;endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Student *pStu = <span class="keyword">new</span> Student;</span><br><span class="line">    pStu -&gt; name = <span class="string">&quot;小明&quot;</span>;</span><br><span class="line">    pStu -&gt; age = <span class="number">15</span>;</span><br><span class="line">    pStu -&gt; score = <span class="number">92.5f</span>;</span><br><span class="line">    pStu -&gt; <span class="built_in">say</span>();</span><br><span class="line">    <span class="keyword">delete</span> pStu;  <span class="comment">//删除对象</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Public-Simple-Inheritance-public-and-private-access-modifiers"><a href="#Public-Simple-Inheritance-public-and-private-access-modifiers" class="headerlink" title="Public Simple Inheritance &amp; public and private access modifiers"></a><strong>Public Simple Inheritance</strong> &amp; public and private access modifiers</h2><p><strong>继承（Inheritance）</strong>可以理解为一个类从另一个类获取成员变量和成员函数的过程。例如类 B 继承于类 A，那么 B 就拥有 A 的成员变量和成员函数。</p>
<p>C++中，<strong>派生（Derive）</strong>和继承是同一概念。只是解释的角度不同，分从子类和父类解释。被继承的类称为父类或基类，继承的类称为子类或派生类。</p>
<p>继承的使用场景：</p>
<ol>
<li><p>当你创建的新类与现有的类相似，只是多出若干成员变量或成员函数时，可以使用继承，这样不但会减少代码量，而且新类会拥有基类的所有功能。</p>
</li>
<li><p>当你需要创建多个类，它们拥有很多相似的成员变量或成员函数时，也可以使用继承。可以将这些类的共同成员提取出来，定义为基类，然后从基类继承，既可以节省代码，也方便后续修改成员。</p>
</li>
</ol>
<p>下面给出一个实例，定义基类People，派生出Student类：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//基类 Pelple</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">People</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setname</span><span class="params">(<span class="type">char</span> *name)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setage</span><span class="params">(<span class="type">int</span> age)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">char</span> *<span class="title">getname</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getage</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">char</span> *m_name;</span><br><span class="line">    <span class="type">int</span> m_age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">People::setname</span><span class="params">(<span class="type">char</span> *name)</span></span>&#123; m_name = name; &#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">People::setage</span><span class="params">(<span class="type">int</span> age)</span></span>&#123; m_age = age; &#125;</span><br><span class="line"><span class="function"><span class="type">char</span>* <span class="title">People::getname</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> m_name; &#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">People::getage</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> m_age;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//派生类 Student</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>: <span class="keyword">public</span> People&#123;	<span class="comment">//继承People中的public成员</span></span><br><span class="line"><span class="keyword">public</span>:							<span class="comment">//同时在Student中新增两个public成员</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setscore</span><span class="params">(<span class="type">float</span> score)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">float</span> <span class="title">getscore</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">float</span> m_score;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Student::setscore</span><span class="params">(<span class="type">float</span> score)</span></span>&#123; m_score = score; &#125;</span><br><span class="line"><span class="function"><span class="type">float</span> <span class="title">Student::getscore</span><span class="params">()</span></span>&#123; <span class="keyword">return</span> m_score; &#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Student stu;</span><br><span class="line">    stu.<span class="built_in">setname</span>(<span class="string">&quot;小明&quot;</span>);</span><br><span class="line">    stu.<span class="built_in">setage</span>(<span class="number">16</span>);</span><br><span class="line">    stu.<span class="built_in">setscore</span>(<span class="number">95.5f</span>);</span><br><span class="line">    cout&lt;&lt;stu.<span class="built_in">getname</span>()&lt;&lt;<span class="string">&quot;的年龄是 &quot;</span>&lt;&lt;stu.<span class="built_in">getage</span>()&lt;&lt;<span class="string">&quot;，成绩是 &quot;</span>&lt;&lt;stu.<span class="built_in">getscore</span>()&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="comment">//小明的年龄是 16，成绩是 95.5</span></span><br></pre></td></tr></table></figure>

<p>不同的继承方式会影响基类成员在派生类中的访问权限。若未指定继承方式，默认为private。</p>
<p><strong>1) public继承方式</strong></p>
<ul>
<li>基类中所有 public 成员在派生类中为 public 属性；</li>
<li>基类中所有 protected 成员在派生类中为 protected 属性；</li>
<li>基类中所有 private 成员在派生类中不能使用。</li>
</ul>
<p><strong>2) protected继承方式</strong></p>
<ul>
<li>基类中的所有 public 成员在派生类中为 protected 属性；</li>
<li>基类中的所有 protected 成员在派生类中为 protected 属性；</li>
<li>基类中的所有 private 成员在派生类中不能使用。</li>
</ul>
<p><strong>3) private继承方式</strong></p>
<ul>
<li>基类中的所有 public 成员在派生类中均为 private 属性；</li>
<li>基类中的所有 protected 成员在派生类中均为 private 属性；</li>
<li>基类中的所有 private 成员在派生类中不能使用。</li>
</ul>
<p>声明为public的数据成员和成员函数也可以被其他类和函数访问。类的公共成员可以在程序的任何地方使用直接成员访问操作符<code>.</code>对该类的对象进行访问。</p>
<p>声明为private的类成员只能由类内部的成员函数访问。它们不允许被类之外的任何对象或函数直接访问。只有成员函数或友元函数才允许访问类的私有数据成员。</p>
<p>private函数使用方法（对比）：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ program to demonstrate private</span></span><br><span class="line"><span class="comment">// access modifier</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span></span><br><span class="line">&#123; </span><br><span class="line">	<span class="comment">// private data member</span></span><br><span class="line">	<span class="keyword">private</span>: </span><br><span class="line">		<span class="type">double</span> radius;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// public member function </span></span><br><span class="line">	<span class="keyword">public</span>: </span><br><span class="line">		<span class="function"><span class="type">double</span> <span class="title">compute_area</span><span class="params">()</span></span></span><br><span class="line"><span class="function">		</span>&#123; <span class="comment">// member function can access private </span></span><br><span class="line">			<span class="comment">// data member radius</span></span><br><span class="line">			<span class="keyword">return</span> <span class="number">3.14</span>*radius*radius;</span><br><span class="line">		&#125;</span><br><span class="line">	</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main function</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">	<span class="comment">// creating object of the class</span></span><br><span class="line">	Circle obj;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// trying to access private data member</span></span><br><span class="line">	<span class="comment">// directly outside the class</span></span><br><span class="line">	obj.radius = <span class="number">1.5</span>;		<span class="comment">//此处在main函数内调用radius，而radius是private值，会报错</span></span><br><span class="line">	</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;Area is:&quot;</span> &lt;&lt; obj.<span class="built_in">compute_area</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="comment">// In function &#x27;int main()&#x27;:</span></span><br><span class="line"><span class="comment">//11:16: error: &#x27;double Circle::radius&#x27; is private</span></span><br><span class="line"><span class="comment">//         double radius;</span></span><br><span class="line"><span class="comment">//                ^</span></span><br><span class="line"><span class="comment">//31:9: error: within this context</span></span><br><span class="line"><span class="comment">//     obj.radius = 1.5;</span></span><br><span class="line"><span class="comment">//         ^</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ program to demonstrate private</span></span><br><span class="line"><span class="comment">// access modifier</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span></span><br><span class="line">&#123; </span><br><span class="line">	<span class="comment">// private data member</span></span><br><span class="line">	<span class="keyword">private</span>: </span><br><span class="line">		<span class="type">double</span> radius;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// public member function </span></span><br><span class="line">	<span class="keyword">public</span>: </span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">compute_area</span><span class="params">(<span class="type">double</span> r)</span></span></span><br><span class="line"><span class="function">		</span>&#123; <span class="comment">// member function can access private </span></span><br><span class="line">			<span class="comment">// data member radius</span></span><br><span class="line">			radius = r;</span><br><span class="line">			</span><br><span class="line">			<span class="type">double</span> area = <span class="number">3.14</span>*radius*radius;</span><br><span class="line">			</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;Radius is: &quot;</span> &lt;&lt; radius &lt;&lt; endl;</span><br><span class="line">			cout &lt;&lt; <span class="string">&quot;Area is: &quot;</span> &lt;&lt; area;</span><br><span class="line">		&#125;</span><br><span class="line">	</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// main function</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">	<span class="comment">// creating object of the class</span></span><br><span class="line">	Circle obj;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">// trying to access private data member</span></span><br><span class="line">	<span class="comment">// directly outside the class</span></span><br><span class="line">	obj.<span class="built_in">compute_area</span>(<span class="number">1.5</span>);		<span class="comment">//类的内部成员函数可以调用private</span></span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="comment">//Radius is: 1.5</span></span><br><span class="line"><span class="comment">//Area is: 7.065</span></span><br></pre></td></tr></table></figure>

<p>对比可见，只有类的内部函数才能调用private值。</p>
<p>用using关键字可以改变基类成员在派生类中的访问权限。但using 只能改变基类中 public 和 protected 成员的访问权限，不能改变 private 成员的访问权限，因为基类中 private 成员在派生类中是不可见的，根本不能使用，所以基类中的 private 成员在派生类中无论如何都不能访问。</p>
<p>实例：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">//基类People</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">People</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">protected</span>:</span><br><span class="line">    <span class="type">char</span> *m_name;</span><br><span class="line">    <span class="type">int</span> m_age;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">People::show</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; m_name &lt;&lt; <span class="string">&quot;的年龄是&quot;</span> &lt;&lt; m_age &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//派生类Student</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> : <span class="keyword">public</span> People &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">learning</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">using</span> People::m_name;  <span class="comment">//将protected改为public</span></span><br><span class="line">    <span class="keyword">using</span> People::m_age;  <span class="comment">//将protected改为public</span></span><br><span class="line">    <span class="type">float</span> m_score;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="keyword">using</span> People::show;  <span class="comment">//将public改为private</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Student::learning</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;我是&quot;</span> &lt;&lt; m_name &lt;&lt; <span class="string">&quot;，今年&quot;</span> &lt;&lt; m_age &lt;&lt; <span class="string">&quot;岁，这次考了&quot;</span> &lt;&lt; m_score &lt;&lt; <span class="string">&quot;分！&quot;</span> &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Student stu;</span><br><span class="line">    stu.m_name = <span class="string">&quot;小明&quot;</span>;</span><br><span class="line">    stu.m_age = <span class="number">16</span>;</span><br><span class="line">    stu.m_score = <span class="number">99.5f</span>;</span><br><span class="line">    stu.<span class="built_in">show</span>();  <span class="comment">//compile error，show()是private属性的，会报错</span></span><br><span class="line">    stu.<span class="built_in">learning</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="this-Pointer"><a href="#this-Pointer" class="headerlink" title="this Pointer"></a><strong><code>this</code> Pointer</strong></h2><p>this是C++中的一个关键字，也是一个const指针，指向当前对象，通过它可以访问当前对象的所有成员。</p>
<p>因为this是一个指针，所以在访问对象的成员时，需要用<code>-&gt;</code>来访问。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setname</span><span class="params">(<span class="type">char</span> *name)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setage</span><span class="params">(<span class="type">int</span> age)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setscore</span><span class="params">(<span class="type">float</span> score)</span></span>;</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span>;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">char</span> *name;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">float</span> score;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Student::setname</span><span class="params">(<span class="type">char</span> *name)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;name = name;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Student::setage</span><span class="params">(<span class="type">int</span> age)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;age = age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Student::setscore</span><span class="params">(<span class="type">float</span> score)</span></span>&#123;</span><br><span class="line">    <span class="keyword">this</span>-&gt;score = score;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Student::show</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="keyword">this</span>-&gt;name&lt;&lt;<span class="string">&quot;的年龄是&quot;</span>&lt;&lt;<span class="keyword">this</span>-&gt;age&lt;&lt;<span class="string">&quot;，成绩是&quot;</span>&lt;&lt;<span class="keyword">this</span>-&gt;score&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Student *pstu = <span class="keyword">new</span> Student;</span><br><span class="line">    pstu -&gt; <span class="built_in">setname</span>(<span class="string">&quot;李华&quot;</span>);</span><br><span class="line">    pstu -&gt; <span class="built_in">setage</span>(<span class="number">16</span>);</span><br><span class="line">    pstu -&gt; <span class="built_in">setscore</span>(<span class="number">96.5</span>);</span><br><span class="line">    pstu -&gt; <span class="built_in">show</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>this用于类的内部，通过this可以访问类的所有成员。包括private、protected、public属性的。</p>
<p>this是const指针，值不可被修改。只有对象创建后this才有意义。</p>
<h2 id="Destructor-and-Default-Copy-Explicit-Constructor"><a href="#Destructor-and-Default-Copy-Explicit-Constructor" class="headerlink" title="Destructor and Default &#x2F; Copy &#x2F; Explicit Constructor"></a>Destructor and Default &#x2F; Copy &#x2F; Explicit Constructor</h2><p>C++中，有一种特殊的成员函数，它的名字和类名相同，没有返回值，不需要用户显式调用（用户也不能调用），而是在创建对象时自动执行。这种特殊的成员函数就是构造函数（Constructor）。它可以在创建对象的同时为成员变量赋初值。</p>
<p><strong>注意，构造函数与类同名。</strong></p>
<p>在Class内定义Constructor的语法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">class</span>-name&gt; (list-of-parameters)</span><br><span class="line">&#123;</span><br><span class="line">     <span class="comment">// constructor definition</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在Class外定义Constructor的语法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="keyword">class</span>-name&gt;: :&lt;<span class="keyword">class</span>-name&gt;(list-of-parameters)</span><br><span class="line">&#123;</span><br><span class="line">     <span class="comment">// constructor definition</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>在Class内定义Constructor的实例：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// defining the constructor within the class</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">student</span> &#123;</span><br><span class="line">	<span class="type">int</span> rno;</span><br><span class="line">	<span class="type">char</span> name[<span class="number">50</span>];</span><br><span class="line">	<span class="type">double</span> fee;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="comment">// 定义constructor</span></span><br><span class="line">	<span class="built_in">student</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;Enter the RollNo:&quot;</span>;</span><br><span class="line">		cin &gt;&gt; rno;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;Enter the Name:&quot;</span>;</span><br><span class="line">		cin &gt;&gt; name;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;Enter the Fee:&quot;</span>;</span><br><span class="line">		cin &gt;&gt; fee;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; endl &lt;&lt; rno &lt;&lt; <span class="string">&quot;\t&quot;</span> &lt;&lt; name &lt;&lt; <span class="string">&quot;\t&quot;</span> &lt;&lt; fee;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	student s; <span class="comment">// constructor gets called automatically when</span></span><br><span class="line">			<span class="comment">// we create the object of the class</span></span><br><span class="line">	s.<span class="built_in">display</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="comment">//Enter the RollNo:121</span></span><br><span class="line"><span class="comment">//Enter the Name:Geeks</span></span><br><span class="line"><span class="comment">//Enter the Fee:5000</span></span><br><span class="line"><span class="comment">//121     Geeks   5000</span></span><br></pre></td></tr></table></figure>

<p>在Class外定义Constructor的实例：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// defining the constructor outside the class</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">student</span> &#123;</span><br><span class="line">	<span class="type">int</span> rno;</span><br><span class="line">	<span class="type">char</span> name[<span class="number">50</span>];</span><br><span class="line">	<span class="type">double</span> fee;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="comment">// 在定义类时仅声明Constructor，但未给出定义</span></span><br><span class="line">	<span class="built_in">student</span>();</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在类外定义Constructor</span></span><br><span class="line">student::<span class="built_in">student</span>()</span><br><span class="line">&#123;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;Enter the RollNo:&quot;</span>;</span><br><span class="line">	cin &gt;&gt; rno;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;Enter the Name:&quot;</span>;</span><br><span class="line">	cin &gt;&gt; name;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;Enter the Fee:&quot;</span>;</span><br><span class="line">	cin &gt;&gt; fee;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">student::display</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; endl &lt;&lt; rno &lt;&lt; <span class="string">&quot;\t&quot;</span> &lt;&lt; name &lt;&lt; <span class="string">&quot;\t&quot;</span> &lt;&lt; fee;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// driver code</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	student s;</span><br><span class="line">	s.<span class="built_in">display</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="comment">//Enter the RollNo:11</span></span><br><span class="line"><span class="comment">//Enter the Name:Aman</span></span><br><span class="line"><span class="comment">//Enter the Fee:10111</span></span><br><span class="line"><span class="comment">//11      Aman    10111</span></span><br></pre></td></tr></table></figure>

<h4 id="Default-Constructor"><a href="#Default-Constructor" class="headerlink" title="Default Constructor"></a>Default Constructor</h4><p>默认构造函数没有变量。它不需要输入，执行一些固定工作或不执行。如果我们不定义构造函数，程序会自动定义一个函数。下面是一个实例：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ program to illustrate the concept of default</span></span><br><span class="line"><span class="comment">// constructors</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">construct</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="type">int</span> a, b;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// Default Constructor</span></span><br><span class="line">	<span class="built_in">construct</span>()</span><br><span class="line">	&#123;</span><br><span class="line">		a = <span class="number">10</span>;</span><br><span class="line">		b = <span class="number">20</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">// Default constructor called automatically</span></span><br><span class="line">	<span class="comment">// when the object is created</span></span><br><span class="line">	construct c;</span><br><span class="line">	cout &lt;&lt; <span class="string">&quot;a: &quot;</span> &lt;&lt; c.a &lt;&lt; endl &lt;&lt; <span class="string">&quot;b: &quot;</span> &lt;&lt; c.b;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="comment">//a: 10</span></span><br><span class="line"><span class="comment">//b: 20</span></span><br></pre></td></tr></table></figure>

<p>另一个实例，如果不定义构造函数：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ program to demonstrate the implicit default</span></span><br><span class="line"><span class="comment">// constructor</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// class</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">student</span> &#123;</span><br><span class="line">	<span class="type">int</span> rno;</span><br><span class="line">	<span class="type">char</span> name[<span class="number">50</span>];</span><br><span class="line">	<span class="type">double</span> fee;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="comment">// creating object without any parameters</span></span><br><span class="line">	student s;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//无输出</span></span><br></pre></td></tr></table></figure>

<h4 id="Copy-Constructor"><a href="#Copy-Constructor" class="headerlink" title="Copy Constructor"></a>Copy Constructor</h4><p>复制构造函数是使用同一类（class）下的另一个对象初始化当前对象的成员函数。它可以引用<code>&amp;</code>同“类”的对象作为参数。</p>
<p>语法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ClassName</span> (ClassName &amp;obj)</span><br><span class="line">&#123;</span><br><span class="line">  <span class="comment">// body_containing_logic</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果没有定义显式复制构造函数，C++会提供默认的隐式复制构造函数：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ program to illustrate the use of Implicit copy</span></span><br><span class="line"><span class="comment">// constructor</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Sample</span> &#123;</span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:		<span class="comment">//此处没有给出copy constructor的定义，即为隐式</span></span><br><span class="line">	<span class="comment">// parameterized constructor</span></span><br><span class="line">	<span class="built_in">Sample</span>(<span class="type">int</span> x) &#123; id = x; &#125;</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123; cout &lt;&lt; <span class="string">&quot;ID=&quot;</span> &lt;&lt; id; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">Sample <span class="title">obj1</span><span class="params">(<span class="number">10</span>)</span></span>;		<span class="comment">//通过parameterized constructor给obj1的id赋初值</span></span><br><span class="line">	obj1.<span class="built_in">display</span>();</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// creating an object of type Sample from the obj</span></span><br><span class="line">	<span class="function">Sample <span class="title">obj2</span><span class="params">(obj1)</span></span>; <span class="comment">//通过隐式复制构造函数给obj2赋值，值来自obj1</span></span><br><span class="line">	obj2.<span class="built_in">display</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="comment">//ID=10</span></span><br><span class="line"><span class="comment">//ID=10</span></span><br></pre></td></tr></table></figure>

<p>显式复制构造函数，实例：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ Program to demonstrate how to define the explicit</span></span><br><span class="line"><span class="comment">// copy constructor</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Sample</span> &#123;</span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="comment">//默认构造函数</span></span><br><span class="line">	<span class="built_in">Sample</span>() &#123;&#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// parameterized constructor</span></span><br><span class="line">	<span class="built_in">Sample</span>(<span class="type">int</span> x) &#123; id = x; &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//复制构造函数，定义</span></span><br><span class="line">	<span class="built_in">Sample</span>(Sample&amp; t) &#123; id = t.id; &#125;		<span class="comment">//定义为，复制id值</span></span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span> </span>&#123; cout &lt;&lt; <span class="string">&quot;ID=&quot;</span> &lt;&lt; id; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// driver code</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">Sample <span class="title">obj1</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">	obj1.<span class="built_in">display</span>();</span><br><span class="line">	cout &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">	<span class="comment">// copy constructor called</span></span><br><span class="line">	<span class="function">Sample <span class="title">obj2</span><span class="params">(obj1)</span></span>; <span class="comment">//从obj1中复制id值到obj2</span></span><br><span class="line">	obj2.<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="comment">//ID=10</span></span><br><span class="line"><span class="comment">//ID=10</span></span><br></pre></td></tr></table></figure>

<p>带有参数化构造函数的显式复制构造函数，实例：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C++ program to demonstrate copy construction along with</span></span><br><span class="line"><span class="comment">// parameterized constructor</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="comment">// class definition</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">student</span> &#123;</span><br><span class="line">	<span class="type">int</span> rno;</span><br><span class="line">	<span class="type">char</span> name[<span class="number">50</span>];</span><br><span class="line">	<span class="type">double</span> fee;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="built_in">student</span>(<span class="type">int</span>, <span class="type">char</span>[], <span class="type">double</span>);</span><br><span class="line">	<span class="built_in">student</span>(student&amp; t) <span class="comment">//复制构造函数，定义</span></span><br><span class="line">	&#123;</span><br><span class="line">		rno = t.rno;			<span class="comment">//复制rno参数</span></span><br><span class="line">		<span class="built_in">strcpy</span>(name, t.name);	<span class="comment">//复制name参数</span></span><br><span class="line">		fee = t.fee;			<span class="comment">//复制fee参数</span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">display</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">student::<span class="built_in">student</span>(<span class="type">int</span> no, <span class="type">char</span> n[], <span class="type">double</span> f)	<span class="comment">//类外，定义参数化构造函数</span></span><br><span class="line">&#123;</span><br><span class="line">	rno = no;</span><br><span class="line">	<span class="built_in">strcpy</span>(name, n);</span><br><span class="line">	fee = f;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">student::display</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout &lt;&lt; endl &lt;&lt; rno &lt;&lt; <span class="string">&quot;\t&quot;</span> &lt;&lt; name &lt;&lt; <span class="string">&quot;\t&quot;</span> &lt;&lt; fee;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function">student <span class="title">s</span><span class="params">(<span class="number">1001</span>, <span class="string">&quot;Manjeet&quot;</span>, <span class="number">10000</span>)</span></span>;	<span class="comment">//定义对象s，输入参数化构造函数的值</span></span><br><span class="line">	s.<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">	<span class="function">student <span class="title">manjeet</span><span class="params">(s)</span></span>;	<span class="comment">//定义对象manjeet，并通过复制构造函数，从对象s中复制值</span></span><br><span class="line">	manjeet.<span class="built_in">display</span>();</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="comment">//1001    Manjeet    10000</span></span><br><span class="line"><span class="comment">//1001    Manjeet    10000</span></span><br></pre></td></tr></table></figure>

<h4 id="显式构造函数（explicit）"><a href="#显式构造函数（explicit）" class="headerlink" title="显式构造函数（explicit）"></a>显式构造函数（explicit）</h4><p>学习显式构造函数，应当先理解隐式（implicit）构造函数。</p>
<p>如果c++类的<strong>其中一个构造函数有一个参数</strong>，那么在编译的时候就会有一个缺省的转换操作：将该构造函数对应数据类型的数据转换为该类对象。这句话可能有点难懂，举个例子：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">String</span>&#123;</span><br><span class="line">	<span class="built_in">String</span>(<span class="type">const</span> <span class="type">char</span>* p);	<span class="comment">//用字符串p作为初始化值</span></span><br><span class="line">&#125;</span><br><span class="line">String s1 = <span class="string">&quot;hello&quot;</span>;	<span class="comment">//这就是一种隐式转换</span></span><br><span class="line"><span class="comment">//这样的转换本身是不合语法的，但通过隐式转换，将“数据”转换为“对象（数据）”，使之合法</span></span><br><span class="line"><span class="comment">//等价于</span></span><br><span class="line">String s1 = <span class="built_in">String</span>(<span class="string">&quot;hello&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>但有的时候，可能不需要这种隐式转换：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">String</span>&#123;</span><br><span class="line">	<span class="built_in">String</span>(<span class="type">int</span> n);				<span class="comment">//本意是预先分配n个字节给字符串</span></span><br><span class="line">	<span class="built_in">String</span>(<span class="type">const</span> <span class="type">char</span>* p);		<span class="comment">//为字符串p初始化</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//两种正常写法</span></span><br><span class="line"><span class="function">String <span class="title">s2</span><span class="params">(<span class="number">10</span>)</span></span>;				<span class="comment">//分配10个字节</span></span><br><span class="line">String s3 = <span class="built_in">String</span>(<span class="number">10</span>);		<span class="comment">//分配10个字节</span></span><br><span class="line"><span class="comment">//两种不正常写法</span></span><br><span class="line">String s4 = <span class="number">10</span>;				<span class="comment">//编译通过，分配10个字节的空字符串</span></span><br><span class="line">String s5 = <span class="string">&#x27;a&#x27;</span>;			<span class="comment">//编译通过，分配int(&#x27;a&#x27;)个字节的空字符串</span></span><br></pre></td></tr></table></figure>

<p>为避免这种隐式转换，在构造函数前加上explicit：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">String</span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">explicit</span> <span class="title">String</span><span class="params">(<span class="type">int</span> n)</span></span>;				<span class="comment">//本意是预先分配n个字节给字符串</span></span><br><span class="line">	<span class="built_in">String</span>(<span class="type">const</span> <span class="type">char</span>* p);		<span class="comment">//为字符串p初始化</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//两种正常写法仍然正确</span></span><br><span class="line"><span class="function">String <span class="title">s2</span><span class="params">(<span class="number">10</span>)</span></span>;				<span class="comment">//分配10个字节</span></span><br><span class="line">String s3 = <span class="built_in">String</span>(<span class="number">10</span>);		<span class="comment">//分配10个字节</span></span><br><span class="line"><span class="comment">//两种不正常写法会报错</span></span><br><span class="line">String s4 = <span class="number">10</span>;				<span class="comment">//编译不通过</span></span><br><span class="line">String s5 = <span class="string">&#x27;a&#x27;</span>;			<span class="comment">//编译不通过</span></span><br></pre></td></tr></table></figure>

<p>所以，有些时候，explicit可以有效防止构造函数的隐式转换带来的错误或者误解。</p>
<h4 id="析构函数（Deconstructor）"><a href="#析构函数（Deconstructor）" class="headerlink" title="析构函数（Deconstructor）"></a>析构函数（Deconstructor）</h4><p>创建对象时系统会自动调用构造函数进行初始化工作，同样，销毁对象时系统也会自动调用一个函数来进行清理工作，例如释放分配的内存、关闭打开的文件等，这个函数就是析构函数。</p>
<p>析构函数（Destructor）也是一种特殊的成员函数，没有返回值，不需要程序员显式调用（程序员也没法显式调用），而是在销毁对象时自动执行。<strong>构造函数的名字和类名相同，而析构函数的名字是在类名前面加一个<code>~</code>符号。</strong></p>
<p>注意：析构函数没有参数，不能被重载，因此一个类只能有一个析构函数。如果用户没有定义，编译器会自动生成一个默认的析构函数。</p>
<p>下面实例中，通过析构函数释放已经分配的内存（其中大部分代码不需要理解，仅看关于~VLA部分，理解语法即可）：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">VLA</span>&#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">VLA</span>(<span class="type">int</span> len);  <span class="comment">//构造函数</span></span><br><span class="line">    ~<span class="built_in">VLA</span>();  <span class="comment">//析构函数</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">input</span><span class="params">()</span></span>;  <span class="comment">//从控制台输入数组元素</span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">show</span><span class="params">()</span></span>;  <span class="comment">//显示数组元素</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="function"><span class="type">int</span> *<span class="title">at</span><span class="params">(<span class="type">int</span> i)</span></span>;  <span class="comment">//获取第i个元素的指针</span></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> m_len;  <span class="comment">//数组长度</span></span><br><span class="line">    <span class="type">int</span> *m_arr; <span class="comment">//数组指针</span></span><br><span class="line">    <span class="type">int</span> *m_p;  <span class="comment">//指向数组第i个元素的指针</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">VLA::<span class="built_in">VLA</span>(<span class="type">int</span> len): <span class="built_in">m_len</span>(len)&#123;  <span class="comment">//使用初始化列表来给 m_len 赋值</span></span><br><span class="line">    <span class="keyword">if</span>(len &gt; <span class="number">0</span>)&#123; m_arr = <span class="keyword">new</span> <span class="type">int</span>[len];  <span class="comment">/*分配内存*/</span> &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123; m_arr = <span class="literal">NULL</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line">VLA::~<span class="built_in">VLA</span>()&#123;			<span class="comment">//定义析构函数</span></span><br><span class="line">    <span class="keyword">delete</span>[] m_arr;  <span class="comment">//释放内存</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">VLA::input</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; m_p=<span class="built_in">at</span>(i); i++)&#123; cin&gt;&gt;*<span class="built_in">at</span>(i); &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">VLA::show</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>; m_p=<span class="built_in">at</span>(i); i++)&#123;</span><br><span class="line">        <span class="keyword">if</span>(i == m_len - <span class="number">1</span>)&#123; cout&lt;&lt;*<span class="built_in">at</span>(i)&lt;&lt;endl; &#125;</span><br><span class="line">        <span class="keyword">else</span>&#123; cout&lt;&lt;*<span class="built_in">at</span>(i)&lt;&lt;<span class="string">&quot;, &quot;</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> * <span class="title">VLA::at</span><span class="params">(<span class="type">int</span> i)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(!m_arr || i&lt;<span class="number">0</span> || i&gt;=m_len)&#123; <span class="keyword">return</span> <span class="literal">NULL</span>; &#125;</span><br><span class="line">    <span class="keyword">else</span>&#123; <span class="keyword">return</span> m_arr + i; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//创建一个有n个元素的数组（对象）</span></span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Input array length: &quot;</span>;</span><br><span class="line">    cin&gt;&gt;n;</span><br><span class="line">    VLA *parr = <span class="keyword">new</span> <span class="built_in">VLA</span>(n);</span><br><span class="line">    <span class="comment">//输入数组元素</span></span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Input &quot;</span>&lt;&lt;n&lt;&lt;<span class="string">&quot; numbers: &quot;</span>;</span><br><span class="line">    parr -&gt; <span class="built_in">input</span>();</span><br><span class="line">    <span class="comment">//输出数组元素</span></span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;Elements: &quot;</span>;</span><br><span class="line">    parr -&gt; <span class="built_in">show</span>();</span><br><span class="line">    <span class="comment">//删除数组（对象）</span></span><br><span class="line">    <span class="keyword">delete</span> parr;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>~VLA()</code>就是 VLA 类的析构函数，它的唯一作用就是在删除对象（第 53 行代码）后释放已经分配的内存。</p>
<p>C++中的 new 和 delete 分别用来分配和释放内存，它们与C语言中 malloc()、free() 最大的一个不同之处在于：用 new 分配内存时会调用构造函数，用 delete 释放内存时会调用析构函数。</p>
<h2 id="namespace-std"><a href="#namespace-std" class="headerlink" title="namespace std"></a>namespace std</h2><p>C++ 引入了命名空间的概念，计划重新编写库，将类、函数、宏等都统一纳入一个命名空间，这个命名空间的名字就是<code>std</code>。std 是 standard的缩写，意思是“标准命名空间”。</p>
<h4 id="namespace"><a href="#namespace" class="headerlink" title="namespace"></a>namespace</h4><p>一个中大型软件往往由多名程序员共同开发，会使用大量的变量和函数，不可避免地会出现变量或函数的命名冲突。当所有人的代码都测试通过，没有问题时，将它们结合到一起就有可能会出现命名冲突。</p>
<p>例如小李和小韩都参与了一个文件管理系统的开发，它们都定义了一个全局变量 fp，用来指明当前打开的文件，将他们的代码整合在一起编译时，很明显编译器会提示 fp 重复定义（Redefinition）错误。</p>
<p>为了解决合作开发时的命名冲突问题，C++ 引入了<strong>命名空间（Namespace）</strong>的概念。请看下面的例子：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> Li&#123;  <span class="comment">//小李的变量定义</span></span><br><span class="line">    FILE* fp = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">namespace</span> Han&#123;  <span class="comment">//小韩的变量定义</span></span><br><span class="line">    FILE* fp = <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>小李与小韩各自定义了以自己姓氏为名的命名空间，此时再将他们的 fp 变量放在一起编译就不会有任何问题。</p>
<p>使用变量、函数时要指明它们所在的命名空间。以上面的 fp 变量为例，可以这样来使用：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Li::fp = <span class="built_in">fopen</span>(<span class="string">&quot;one.txt&quot;</span>, <span class="string">&quot;r&quot;</span>);  <span class="comment">//使用小李定义的变量 fp</span></span><br><span class="line">Han::fp = <span class="built_in">fopen</span>(<span class="string">&quot;two.txt&quot;</span>, <span class="string">&quot;rb+&quot;</span>);  <span class="comment">//使用小韩定义的变量 fp</span></span><br></pre></td></tr></table></figure>

<p><code>::</code>是一个新符号，称为域解析操作符，在C++中用来指明要使用的命名空间。</p>
<p>除了直接使用域解析操作符，还可以采用using关键字声明，在代码的开头用<code>using</code>声明了 Li::fp，它的意思是，using 声明以后的程序中如果出现了未指明命名空间的 fp，就使用 Li::fp；但是若要使用小韩定义的 fp，仍然需要 Han::fp。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> Li::fp;</span><br><span class="line">fp = <span class="built_in">fopen</span>(<span class="string">&quot;one.txt&quot;</span>, <span class="string">&quot;r&quot;</span>);  <span class="comment">//使用小李定义的变量 fp</span></span><br><span class="line">Han :: fp = <span class="built_in">fopen</span>(<span class="string">&quot;two.txt&quot;</span>, <span class="string">&quot;rb+&quot;</span>);  <span class="comment">//使用小韩定义的变量 fp</span></span><br></pre></td></tr></table></figure>

<p>using 声明不仅可以针对命名空间中的一个变量，也可以用于声明整个命名空间，如果命名空间 Li 中还定义了其他的变量，那么同样具有 fp 变量的效果。在 using 声明后，如果有未具体指定命名空间的变量产生了命名冲突，那么默认采用命名空间 Li 中的变量。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> Li;</span><br><span class="line">fp = <span class="built_in">fopen</span>(<span class="string">&quot;one.txt&quot;</span>, <span class="string">&quot;r&quot;</span>);  <span class="comment">//使用小李定义的变量 fp</span></span><br><span class="line">Han::fp = <span class="built_in">fopen</span>(<span class="string">&quot;two.txt&quot;</span>, <span class="string">&quot;rb+&quot;</span>);  <span class="comment">//使用小韩定义的变量 fp</span></span><br></pre></td></tr></table></figure>

<p>std具体内容不必了解，std可以大致理解为一个标准库，将可能用到的一些函数等等纳入。</p>
<p>只需要留意<code>using namespace std;</code>，它声明了命名空间 std，后续如果有未指定命名空间的符号，那么默认使用 std，代码中的 string、cin、cout 都位于命名空间 std。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//必须重新声明</span></span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;http://c.biancheng.net&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//声明命名空间std</span></span><br><span class="line">    <span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line">   </span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;C语言中文网&quot;</span>&lt;&lt;endl;</span><br><span class="line">    <span class="built_in">func</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果希望在所有函数中都使用命名空间 std，可以将它声明在全局范围中，例如：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="comment">//声明命名空间std</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;http://c.biancheng.net&quot;</span>&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    cout&lt;&lt;<span class="string">&quot;C语言中文网&quot;</span>&lt;&lt;endl;</span><br><span class="line">    <span class="built_in">func</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>当然，也可以对一个特定函数使用std，但这样写太麻烦了：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    std::<span class="built_in">printf</span>(<span class="string">&quot;http://c.biancheng.net\n&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="operator"><a href="#operator" class="headerlink" title="::operator"></a><code>::</code>operator</h2><p>鉴于Pavel老登又说要学<code>::</code>，故单独开 一小节。</p>
<p>作用域运算符，简单来说，作用就是从一个集合（一般是class）中取其成员。细分下来有以下几种：</p>
<ol>
<li>当存在有相同名称的局部变量时，要访问全局变量（不太可能考）：</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span>  </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std; </span><br><span class="line"> </span><br><span class="line"><span class="type">int</span> x;  <span class="comment">// Global x </span></span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">  <span class="type">int</span> x = <span class="number">10</span>; <span class="comment">// Local x </span></span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;Value of global x is &quot;</span> &lt;&lt; ::x; </span><br><span class="line">  cout &lt;&lt; <span class="string">&quot;\nValue of local x is &quot;</span> &lt;&lt; x;   </span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<ol start="2">
<li>在类以外定义函数（有一定概率考）：</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span>  </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std; </span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>  </span><br><span class="line">&#123; </span><br><span class="line"><span class="keyword">public</span>:  </span><br><span class="line"> </span><br><span class="line">   <span class="comment">// Only declaration </span></span><br><span class="line">   <span class="function"><span class="type">void</span> <span class="title">fun</span><span class="params">()</span></span>; </span><br><span class="line">&#125;; </span><br><span class="line"> </span><br><span class="line"><span class="comment">// Definition outside class using :: </span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">A::fun</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">   cout &lt;&lt; <span class="string">&quot;fun() called&quot;</span>; </span><br><span class="line">&#125; </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">   A a; </span><br><span class="line">   a.<span class="built_in">fun</span>(); </span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<ol start="3">
<li>访问一个类的静态变量（有可能考）：</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span> </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std; </span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span> </span><br><span class="line">&#123; </span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> x;   </span><br><span class="line"><span class="keyword">public</span>: </span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> y;    </span><br><span class="line"> </span><br><span class="line">    <span class="comment">// Local parameter &#x27;a&#x27; hides class member </span></span><br><span class="line">    <span class="comment">// &#x27;a&#x27;, but we can access it using :: </span></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">func</span><span class="params">(<span class="type">int</span> x)</span>   </span></span><br><span class="line"><span class="function">    </span>&#123;  </span><br><span class="line">       <span class="comment">// We can access class&#x27;s static variable </span></span><br><span class="line">       <span class="comment">// even if there is a local variable </span></span><br><span class="line">       cout &lt;&lt; <span class="string">&quot;Value of static x is &quot;</span> &lt;&lt; Test::x; </span><br><span class="line"> </span><br><span class="line">       cout &lt;&lt; <span class="string">&quot;\nValue of local x is &quot;</span> &lt;&lt; x;   </span><br><span class="line">    &#125; </span><br><span class="line">&#125;; </span><br><span class="line"> </span><br><span class="line"><span class="comment">// In C++, static members must be explicitly defined  </span></span><br><span class="line"><span class="comment">// like this </span></span><br><span class="line"><span class="type">int</span> Test::x = <span class="number">1</span>; </span><br><span class="line"><span class="type">int</span> Test::y = <span class="number">2</span>; </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span></span><br><span class="line"><span class="function"></span>&#123; </span><br><span class="line">    Test obj; </span><br><span class="line">    <span class="type">int</span> x = <span class="number">3</span> ; </span><br><span class="line">    obj.<span class="built_in">func</span>(x); </span><br><span class="line"> </span><br><span class="line">    cout &lt;&lt; <span class="string">&quot;\nTest::y = &quot;</span> &lt;&lt; Test::y; </span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<ol start="4">
<li>命名空间，如果两个命名空间有相同名称的类，则可以通过该运算符一起使用，而不会发生冲突：</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span> </span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123; </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;Hello&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>

<ol start="5">
<li>在一个类中引用另一个类。如果另一个类中存在一个类，我们可以使用嵌套类使用作用域运算符来引用嵌套的类：</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span> </span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std; </span><br><span class="line"> </span><br><span class="line"><span class="keyword">class</span> <span class="title class_">outside</span> </span><br><span class="line">&#123; </span><br><span class="line"><span class="keyword">public</span>: </span><br><span class="line">      <span class="type">int</span> x; </span><br><span class="line">      <span class="keyword">class</span> <span class="title class_">inside</span> </span><br><span class="line">      &#123; </span><br><span class="line">      <span class="keyword">public</span>: </span><br><span class="line">            <span class="type">int</span> x; </span><br><span class="line">            <span class="type">static</span> <span class="type">int</span> y;  </span><br><span class="line">            <span class="function"><span class="type">int</span> <span class="title">foo</span><span class="params">()</span></span>; </span><br><span class="line"> </span><br><span class="line">      &#125;; </span><br><span class="line">&#125;; </span><br><span class="line"><span class="type">int</span> outside::inside::y = <span class="number">5</span>;  </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123; </span><br><span class="line">    outside A; </span><br><span class="line">    outside::inside B; </span><br><span class="line"> </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>



<h2 id="cout"><a href="#cout" class="headerlink" title="cout"></a><strong><code>cout</code></strong></h2><p>预定义的对象 <strong>cout</strong> 是 <strong>iostream</strong> 类的一个实例。cout 对象”连接”到标准输出设备，通常是显示屏。<strong>cout</strong> 是与流插入运算符 &lt;&lt; 结合使用的，如下所示：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">( )</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   <span class="type">char</span> str[] = <span class="string">&quot;Hello C++&quot;</span>;</span><br><span class="line"> </span><br><span class="line">   cout &lt;&lt; <span class="string">&quot;Value of str is : &quot;</span> &lt;&lt; str &lt;&lt; endl;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出：</span></span><br><span class="line"><span class="comment">//Value of str is : Hello C++</span></span><br></pre></td></tr></table></figure>

<p>C++ 编译器根据要输出变量的数据类型，选择合适的流插入运算符来显示值。&lt;&lt; 运算符被重载来输出内置类型（整型、浮点型、double 型、字符串和指针）的数据项。</p>
<p>流插入运算符 &lt;&lt; 在一个语句中可以多次使用，如上面实例中所示，<strong>endl</strong> 用于在行末添加一个换行符。</p>
<h2 id="string-Class"><a href="#string-Class" class="headerlink" title="string Class"></a><strong><code>string</code> Class</strong></h2><p>C++中的string类是一个泛型类，由模板而实例化的一个标准类，本质上不是一个标准数据类型。</p>
<p>鉴于已经介绍了class，仅通过该实例演示string的基础用法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">   string str1 = <span class="string">&quot;runoob&quot;</span>;</span><br><span class="line">   string str2 = <span class="string">&quot;google&quot;</span>;</span><br><span class="line">   string str3;</span><br><span class="line">   <span class="type">int</span>  len ;</span><br><span class="line"> </span><br><span class="line">   <span class="comment">// 复制 str1 到 str3</span></span><br><span class="line">   str3 = str1;</span><br><span class="line">   cout &lt;&lt; <span class="string">&quot;str3 : &quot;</span> &lt;&lt; str3 &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line">   <span class="comment">// 连接 str1 和 str2</span></span><br><span class="line">   str3 = str1 + str2;</span><br><span class="line">   cout &lt;&lt; <span class="string">&quot;str1 + str2 : &quot;</span> &lt;&lt; str3 &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line">   <span class="comment">// 连接后，str3 的总长度</span></span><br><span class="line">   len = str3.<span class="built_in">size</span>();</span><br><span class="line">   cout &lt;&lt; <span class="string">&quot;str3.size() :  &quot;</span> &lt;&lt; len &lt;&lt; endl;</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出：</span></span><br><span class="line"><span class="comment">//str3 : runoob</span></span><br><span class="line"><span class="comment">//str1 + str2 : runoobgoogle</span></span><br><span class="line"><span class="comment">//str3.size() :  12</span></span><br></pre></td></tr></table></figure>

<h2 id="new-delete"><a href="#new-delete" class="headerlink" title="new &amp; delete"></a><strong><code>new</code> &amp; <code>delete</code></strong></h2><p>C语言中，用malloc，free等函数动态分配内存，C++中保留了这些函数。同时，新增了两个<strong>关键字</strong>，new和delete，new用于动态分配内存，delete用于释放内存。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> *p = <span class="keyword">new</span> <span class="type">int</span>;		<span class="comment">//分配1个int型内存空间</span></span><br><span class="line"><span class="keyword">delete</span> p;				<span class="comment">//释放内存</span></span><br></pre></td></tr></table></figure>

<p>new操作符会根据后面的数据类型来推断所需空间的大小。</p>
<p>如果希望分配一组连续的数据，可以使用new[]，同时，由new[]分配的内存需要由delete[]释放</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> *p = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">10</span>];</span><br><span class="line"><span class="keyword">delete</span>[] p;</span><br></pre></td></tr></table></figure>

<p>new和delete应当成对出现，用完即释放。</p>
<h2 id="Abstraction-Inheritance-Polymorphism-Encapsulation"><a href="#Abstraction-Inheritance-Polymorphism-Encapsulation" class="headerlink" title="Abstraction, Inheritance, Polymorphism, Encapsulation"></a>Abstraction, Inheritance, Polymorphism, Encapsulation</h2><h4 id="abstraction"><a href="#abstraction" class="headerlink" title="abstraction"></a>abstraction</h4><p>数据抽象是c++中面向对象编程最基本、最重要的特性之一。抽象意味着只显示基本信息，隐藏细节。数据抽象指的是只向外界提供有关数据的基本信息，隐藏后台细节或实现。</p>
<p>举个例子。一个人只知道踩油门会增加汽车的速度，或者踩刹车会使汽车停下来，但他不知道踩油门时速度实际上是如何增加的，他不知道汽车的内部机构，也不知道油门、刹车等在汽车中的实施。这就是抽象。</p>
<p>抽象的种类：</p>
<ol>
<li>数据抽象——这种类型只显示有关数据的必要信息，而隐藏不必要的数据。</li>
<li>控制抽象——这种类型只显示有关实现的必要信息，而隐藏不必要的信息。</li>
</ol>
<p>抽象的实现：</p>
<ol>
<li>Classes：通过access specifier (public, private) 实现对部分内容的访问，而拒绝对另一部分的访问。</li>
<li>Header Files： 通过头文件封装函数。</li>
</ol>
<p>数据抽象的优点</p>
<ol>
<li><p>帮助用户避免编写低级代码</p>
</li>
<li><p>避免代码重复，提高可重用性。</p>
</li>
<li><p>可以在不影响用户的情况下独立更改类的内部实现。</p>
</li>
<li><p>帮助提高应用程序或程序的安全性，因为只向用户提供重要的细节。</p>
</li>
<li><p>它降低了代码的复杂性和冗余性，从而提高了可读性。</p>
</li>
</ol>
<h4 id="Inheritance"><a href="#Inheritance" class="headerlink" title="Inheritance"></a>Inheritance</h4><p>该部分主要是public，protected，private三种继承方式，在<strong>Public Simple Inheritance &amp; public and private access modifiers</strong>这一节已经涉及了必要知识，不多赘述。放两个程序作为练习：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Example: define member function without argument within</span></span><br><span class="line"><span class="comment">// the class</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line">	<span class="type">char</span> name[<span class="number">100</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">set_p</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;Enter the Id:&quot;</span>;</span><br><span class="line">		cin &gt;&gt; id;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;Enter the Name:&quot;</span>;</span><br><span class="line">		cin &gt;&gt; name;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">display_p</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		cout &lt;&lt; endl &lt;&lt;<span class="string">&quot;Id: &quot;</span>&lt;&lt; id &lt;&lt; <span class="string">&quot;\nName: &quot;</span> &lt;&lt; name &lt;&lt;endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> : <span class="keyword">private</span> Person &#123;</span><br><span class="line">	<span class="type">char</span> course[<span class="number">50</span>];</span><br><span class="line">	<span class="type">int</span> fee;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">set_s</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="built_in">set_p</span>();</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;Enter the Course Name:&quot;</span>;</span><br><span class="line">		cin &gt;&gt; course;</span><br><span class="line">		cout &lt;&lt; <span class="string">&quot;Enter the Course Fee:&quot;</span>;</span><br><span class="line">		cin &gt;&gt; fee;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="function"><span class="type">void</span> <span class="title">display_s</span><span class="params">()</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="built_in">display_p</span>();</span><br><span class="line">		cout &lt;&lt;<span class="string">&quot;Course: &quot;</span>&lt;&lt; course &lt;&lt; <span class="string">&quot;\nFee: &quot;</span> &lt;&lt; fee &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Student s;</span><br><span class="line">	s.<span class="built_in">set_s</span>();</span><br><span class="line">	s.<span class="built_in">display_s</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="comment">//Enter the Id: 101</span></span><br><span class="line"><span class="comment">//Enter the Name: Dev</span></span><br><span class="line"><span class="comment">//Enter the Course Name: GCS</span></span><br><span class="line"><span class="comment">//Enter the Course Fee:70000</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Id: 101</span></span><br><span class="line"><span class="comment">//Name: Dev</span></span><br><span class="line"><span class="comment">//Course: GCS</span></span><br><span class="line"><span class="comment">//Fee: 70000</span></span><br></pre></td></tr></table></figure>

<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Example: define member function without argument outside the class</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> id;</span><br><span class="line">	<span class="type">char</span> name[<span class="number">100</span>];</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">set_p</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">display_p</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Person::set_p</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;Enter the Id:&quot;</span>;</span><br><span class="line">	cin&gt;&gt;id;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;Enter the Name:&quot;</span>;</span><br><span class="line">	cin&gt;&gt;name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Person::display_p</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	cout&lt;&lt;endl&lt;&lt;<span class="string">&quot;id: &quot;</span>&lt;&lt; id&lt;&lt;<span class="string">&quot;\nName: &quot;</span>&lt;&lt;name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>: <span class="keyword">private</span> Person</span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">char</span> course[<span class="number">50</span>];</span><br><span class="line">	<span class="type">int</span> fee;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">public</span>:</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">set_s</span><span class="params">()</span></span>;</span><br><span class="line">		<span class="function"><span class="type">void</span> <span class="title">display_s</span><span class="params">()</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Student::set_s</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">set_p</span>();</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;Enter the Course Name:&quot;</span>;</span><br><span class="line">	cin&gt;&gt;course;</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;Enter the Course Fee:&quot;</span>;</span><br><span class="line">	cin&gt;&gt;fee;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Student::display_s</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="built_in">display_p</span>();</span><br><span class="line">	cout&lt;&lt;<span class="string">&quot;\nCourse: &quot;</span>&lt;&lt;course&lt;&lt;<span class="string">&quot;\nFee: &quot;</span>&lt;&lt;fee&lt;&lt;endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	Student s;</span><br><span class="line">	s.<span class="built_in">set_s</span>();</span><br><span class="line">	s.<span class="built_in">display_s</span>();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="comment">//Enter the Id: 101</span></span><br><span class="line"><span class="comment">//Enter the Name: Dev</span></span><br><span class="line"><span class="comment">//Enter the Course Name: GCS</span></span><br><span class="line"><span class="comment">//Enter the Course Fee: 70000</span></span><br><span class="line"><span class="comment">//Id: 101</span></span><br><span class="line"><span class="comment">//Name: Dev</span></span><br><span class="line"><span class="comment">//Course: GCS</span></span><br><span class="line"><span class="comment">//Fee: 70000</span></span><br></pre></td></tr></table></figure>

<p>更多内容，请访问<a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/inheritance-in-c/?ref=lbp">Inheritance in C++ - GeeksforGeeks</a></p>
<h4 id="Polymorphism"><a href="#Polymorphism" class="headerlink" title="Polymorphism"></a>Polymorphism</h4><p>多态性 (polymorphism) 这个词的意思是具有多种形式。简而言之，我们可以将多态性定义为消息以多种形式显示的能力。</p>
<p>多态性的一个现实例子是一个人同时可以有不同的特征。一个男人同时是父亲、丈夫和雇员。所以同一个人在不同的情况下表现出不同的行为。这就是所谓的多态性。多态被认为是面向对象编程的重要特征之一。</p>
<p>Types of Polymorphism</p>
<ul>
<li>Compile-time Polymorphism</li>
<li>Runtime Polymorphism</li>
</ul>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">Chi Guanzhang</div><div class="post-copyright__author_desc">未完待续</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://chigz114.github.io/2024/05/19/ECE220/Cpp/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://chigz114.github.io/2024/05/19/ECE220/Cpp/')">Cpp</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://chigz114.github.io/2024/05/19/ECE220/Cpp/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=Cpp&amp;url=https://chigz114.github.io/2024/05/19/ECE220/Cpp/&amp;pic=https://patchwiki.biligame.com/images/blhx/c/cf/6tj18cxvk0h6rh0s3l2nczv8zggspm1.png" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><script>function copyCurrentPageUrl() {
  var currentPageUrl = window.location.href;
  var input = document.createElement("input");
  input.setAttribute("value", currentPageUrl);
  document.body.appendChild(input);
  input.select();
  input.setSelectionRange(0, 99999);
  document.execCommand("copy");
  document.body.removeChild(input);
}</script><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="copyCurrentPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://chigz114.github.io" target="_blank">沉思录</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/ECE220/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>ECE220<span class="tagsPageCount">7</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="/rgb(0,0,255)" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://cdn.cbd.int/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/05/19/ECE220/Dynamic%20Resizing/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/rgb(0,0,255)" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Dynamic Resizing</div></div></a></div><div class="next-post pull-right"><a href="/2024/05/21/ECE220/Function-Pointers-and-Callbacks/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://patchwiki.biligame.com/images/blhx/c/cf/6tj18cxvk0h6rh0s3l2nczv8zggspm1.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Function_Pointers_and_Callbacks</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>喜欢这篇文章的人也看了</span></div><div class="relatedPosts-list"><div><a href="/2024/05/19/ECE220/Dynamic%20Resizing/" title="Dynamic Resizing"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/rgb(0,0,255)" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-05-19</div><div class="title">Dynamic Resizing</div></div></a></div><div><a href="/2024/05/21/ECE220/Containers-and-Iterators/" title="Containers_and_Iterators"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/rgb(0,0,255)" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-05-21</div><div class="title">Containers_and_Iterators</div></div></a></div><div><a href="/2024/05/22/ECE220/IO-in-C/" title="IO_in_C"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/rgb(0,0,255)" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-05-22</div><div class="title">IO_in_C</div></div></a></div><div><a href="/2024/05/23/ECE220/three-part-IO/" title="three_part_IO"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/rgb(0,0,255)" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-05-23</div><div class="title">three_part_IO</div></div></a></div><div><a href="/2024/05/18/ECE220/SuiBi/" title="ECE220求生指北（？）"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/rgb(0,0,255)" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-05-18</div><div class="title">ECE220求生指北（？）</div></div></a></div><div><a href="/2024/05/21/ECE220/Function-Pointers-and-Callbacks/" title="Function_Pointers_and_Callbacks"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://patchwiki.biligame.com/images/blhx/c/cf/6tj18cxvk0h6rh0s3l2nczv8zggspm1.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-05-21</div><div class="title">Function_Pointers_and_Callbacks</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="author-info__sayhi" id="author-info__sayhi" onclick="anzhiyu.changeSayHelloText()"></div><div class="author-info-avatar"><img class="avatar-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://bu.dusays.com/2023/04/27/64496e511b09c.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-status"><img class="g-status" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://twikoo-magic.oss-cn-hangzhou.aliyuncs.com/QQ/shui.gif" alt="status"/></div></div><div class="author-info__description">(๑ơ ₃ ơ)♥</div><div class="author-info__bottom-group"><a class="author-info__bottom-group-left" href="/"><h1 class="author-info__name">Chi Guanzhang</h1><div class="author-info__desc">未完待续</div></a><div class="card-info-social-icons is-center"><a class="social-icon faa-parent animated-hover" href="https://www.bilibili.com/video/BV1GJ411x7h7/?spm_id_from=333.337.search-card.all.click&amp;vd_source=21b78eb73d808f842c3ff2485f3933ab" target="_blank" title="BiliBili"><i class="anzhiyufont anzhiyu-icon-bilibili"></i></a></div></div></div></div><div class="card-widget anzhiyu-right-widget" id="card-wechat" onclick="null"><div id="flip-wrapper"><div id="flip-content"><div class="face" style="background: url(https://bu.dusays.com/2023/01/13/63c02edf44033.png) center center / 100% no-repeat"></div><div class="back face" style="background: url(https://bu.dusays.com/2023/05/13/645fa415e8694.png) center center / 100% no-repeat"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Introduction-to-Cpp"><span class="toc-number">1.</span> <span class="toc-text">Introduction to Cpp</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#References"><span class="toc-number">1.1.</span> <span class="toc-text">References</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Class"><span class="toc-number">1.2.</span> <span class="toc-text">Class</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Public-Simple-Inheritance-public-and-private-access-modifiers"><span class="toc-number">1.3.</span> <span class="toc-text">Public Simple Inheritance &amp; public and private access modifiers</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#this-Pointer"><span class="toc-number">1.4.</span> <span class="toc-text">this Pointer</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Destructor-and-Default-Copy-Explicit-Constructor"><span class="toc-number">1.5.</span> <span class="toc-text">Destructor and Default &#x2F; Copy &#x2F; Explicit Constructor</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Default-Constructor"><span class="toc-number">1.5.0.1.</span> <span class="toc-text">Default Constructor</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Copy-Constructor"><span class="toc-number">1.5.0.2.</span> <span class="toc-text">Copy Constructor</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%BE%E5%BC%8F%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0%EF%BC%88explicit%EF%BC%89"><span class="toc-number">1.5.0.3.</span> <span class="toc-text">显式构造函数（explicit）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9E%90%E6%9E%84%E5%87%BD%E6%95%B0%EF%BC%88Deconstructor%EF%BC%89"><span class="toc-number">1.5.0.4.</span> <span class="toc-text">析构函数（Deconstructor）</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#namespace-std"><span class="toc-number">1.6.</span> <span class="toc-text">namespace std</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#namespace"><span class="toc-number">1.6.0.1.</span> <span class="toc-text">namespace</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#operator"><span class="toc-number">1.7.</span> <span class="toc-text">::operator</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#cout"><span class="toc-number">1.8.</span> <span class="toc-text">cout</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#string-Class"><span class="toc-number">1.9.</span> <span class="toc-text">string Class</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#new-delete"><span class="toc-number">1.10.</span> <span class="toc-text">new &amp; delete</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Abstraction-Inheritance-Polymorphism-Encapsulation"><span class="toc-number">1.11.</span> <span class="toc-text">Abstraction, Inheritance, Polymorphism, Encapsulation</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#abstraction"><span class="toc-number">1.11.0.1.</span> <span class="toc-text">abstraction</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Inheritance"><span class="toc-number">1.11.0.2.</span> <span class="toc-text">Inheritance</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Polymorphism"><span class="toc-number">1.11.0.3.</span> <span class="toc-text">Polymorphism</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-history"></i><span>最近发布</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/06/09/ECE408/ECE408-lecture10/" title="ECE408-lecture10"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/rgb(0,0,255)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ECE408-lecture10"/></a><div class="content"><a class="title" href="/2024/06/09/ECE408/ECE408-lecture10/" title="ECE408-lecture10">ECE408-lecture10</a><time datetime="2024-06-09T08:01:20.000Z" title="发表于 2024-06-09 16:01:20">2024-06-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/09/ECE408/ECE408-lecture9/" title="ECE408-lecture9"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/rgb(0,0,255)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ECE408-lecture9"/></a><div class="content"><a class="title" href="/2024/06/09/ECE408/ECE408-lecture9/" title="ECE408-lecture9">ECE408-lecture9</a><time datetime="2024-06-09T08:01:08.000Z" title="发表于 2024-06-09 16:01:08">2024-06-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/09/ECE408/ECE408-lecture8/" title="ECE408-lecture8"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/rgb(0,0,255)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ECE408-lecture8"/></a><div class="content"><a class="title" href="/2024/06/09/ECE408/ECE408-lecture8/" title="ECE408-lecture8">ECE408-lecture8</a><time datetime="2024-06-09T05:56:30.000Z" title="发表于 2024-06-09 13:56:30">2024-06-09</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/08/ECE408/ECE408-lecture7/" title="ECE408-lecture7"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/rgb(0,0,255)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ECE408-lecture7"/></a><div class="content"><a class="title" href="/2024/06/08/ECE408/ECE408-lecture7/" title="ECE408-lecture7">ECE408-lecture7</a><time datetime="2024-06-08T14:47:31.000Z" title="发表于 2024-06-08 22:47:31">2024-06-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2024/06/08/ECE408/ECE408-lecture6/" title="ECE408-lecture6"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/rgb(0,0,255)" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ECE408-lecture6"/></a><div class="content"><a class="title" href="/2024/06/08/ECE408/ECE408-lecture6/" title="ECE408-lecture6">ECE408-lecture6</a><time datetime="2024-06-08T07:16:53.000Z" title="发表于 2024-06-08 15:16:53">2024-06-08</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2020 - 2024 By <a class="footer-bar-link" href="/" title="Chi Guanzhang" target="_blank">Chi Guanzhang</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu" title="主题">主题</a></div></div></div></footer></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">18</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">2</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">0</div></a></div><span class="sidebar-menu-item-title">功能</span><div class="sidebar-menu-item"><a class="darkmode_switchbutton menu-child" href="javascript:void(0);" title="显示模式"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span>显示模式</span></a></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://blog.anheyu.com/" title="博客"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.ico" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" target="_blank" rel="noopener" href="https://image.anheyu.com/" title="安知鱼图床"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://image.anheyu.com/favicon.ico" alt="安知鱼图床"/><span class="back-menu-item-text">安知鱼图床</span></a></div></div></div><span class="sidebar-menu-item-title">标签</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/ECE220/" style="font-size: 0.88rem;">ECE220<sup>7</sup></a><a href="/tags/ECE408/" style="font-size: 0.88rem;">ECE408<sup>11</sup></a></div></div><hr/></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://y.qq.com/n/ryqq/playlist/8802438608&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.28/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://cdn.cbd.int/vanilla-lazyload@17.8.5/dist/lazyload.iife.min.js"></script><script src="https://cdn.cbd.int/node-snackbar@0.1.16/dist/snackbar.min.js"></script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("04/01/2021 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2020 By 安知鱼 V1.6.12",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#425AEF",
      "",
      "color:#425AEF",
      "color:#425AEF",
      "",
      "color:#425AEF",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 Chi Guanzhang 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "";
</script><script async data-pjax src="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/waterfall/waterfall.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/aplayer/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.cbd.int/anzhiyu-blog-static@1.0.1/js/APlayer.min.js"></script><script src="https://cdn.cbd.int/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://cdn.cbd.int/pjax@0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]
var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  anzhiyu.removeGlobalFnEvent('pjax')
  anzhiyu.removeGlobalFnEvent('themeChange')

  document.getElementById('rightside').classList.remove('rightside-show')
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', e => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div><div id="popup-window"><div class="popup-window-title">通知</div><div class="popup-window-divider"></div><div class="popup-window-content"><div class="popup-tip">你好呀</div><div class="popup-link"><i class="anzhiyufont anzhiyu-icon-arrow-circle-right"></i></div></div></div></body></html>